<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Module Xml_print.​Utf8 </title><meta charset="utf8"/><link rel="stylesheet" href="/css/style.css"/><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.9.0/themes/prism.min.css"/><script src="/client.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.9.0/components/prism-core.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.9.0/components/prism-ocaml.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.9.0/components/prism-clike.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.9.0/components/prism-reason.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.9.0/components/prism-javascript.min.js"></script></head><body><h1>Module <span><a class="ocsforge_doclink_tyxml" href="/tyxml/4.1.0/api/Xml_print.Utf8">Xml_print.​Utf8</a></span> </h1><pre class="ocsforge_color odocwiki_code"><span class="ocsforge_color_keyword">module</span> <span class="ocsforge_color_uid"><span class="ocsforge_color_uid">Utf8</span></span> <span class="ocsforge_color_delimiter">:</span> <span class="ocsforge_color_keyword">sig</span><span><a class="ocsforge_doclink_tyxml" href="/tyxml/4.1.0/api/Xml_print.Utf8">..</a></span><span class="ocsforge_color_keyword">end</span></pre><p>Utf8 normalizer and encoder for HTML.
</p><p>Given a module <span class="odocwiki_inlinecode">pp</span> functions produced by one of the functors in <span><a class="ocsforge_doclink_tyxml" href="/tyxml/4.1.0/api/Xml_print">Xml_print</a></span>, this modules is used as following:

</p><pre class=""><code class="language-ocaml translatable">let encode x = fst (Xml_print.Utf8.normalize_html x) in
    Format.printf &quot;%a&quot; (Html.pp ~encode ()) document</code></pre><hr/><pre class="ocsforge_color odocwiki_code" id="TYPEutf8"><span class="ocsforge_color_keyword">type</span> <span class="odocwiki_name">utf8</span> <span class="ocsforge_color_delimiter">=</span> <span class="odocwiki_type">string</span></pre><pre class="ocsforge_color odocwiki_code" id="VALnormalize"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">normalize</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type">string <span class="ocsforge_color_delimiter">-&gt;</span> <span><a class="ocsforge_doclink_tyxml" href="/tyxml/4.1.0/api/Xml_print.Utf8#TYPEutf8">utf8</a></span> * bool</span></pre><div class="odocwiki_info"><p><span class="odocwiki_inlinecode">normalize str</span> take a possibly invalid utf-8 string
and return a valid utf-8 string
where invalid bytes have been replaced by
the replacement character <span class="odocwiki_inlinecode">U+FFFD</span>.
The returned boolean is true if invalid bytes were found</p></div><pre class="ocsforge_color odocwiki_code" id="VALnormalize_html"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">normalize_html</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type">string <span class="ocsforge_color_delimiter">-&gt;</span> <span><a class="ocsforge_doclink_tyxml" href="/tyxml/4.1.0/api/Xml_print.Utf8#TYPEutf8">utf8</a></span> * bool</span></pre><div class="odocwiki_info"><p>Same as <span class="odocwiki_inlinecode">normalize</span> plus some extra work :
It encode '&lt;' , '&gt;' , '&quot;' , '&amp;' characters with
corresponding entities and replaced invalid html
character by <span class="odocwiki_inlinecode">U+FFFD</span></p></div></body></html>
